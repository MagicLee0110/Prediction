<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>九宮格手機網頁</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: 'Courier New', Courier, monospace; /* 手寫風格字體 */
        background-color: #000; /* 将整个页面背景色改为黑色 */
    }

    #grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
        width: 100%;
        max-width: 600px; /* 控制九宮格的最大寬度 */
        margin: 20px; /* 邊距 */
        border: 3px solid #000; /* 添加黑色大框 */
        background-color: #fff; /* 九宫格内部背景色为白色 */
    }

    .cell {
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid transparent; /* 使邊框透明 */
        font-size: 2em;
        cursor: pointer;
        color: transparent; /* 使文字透明 */
        transition: background-color 0.3s ease, transform 0.1s ease; /* 過渡效果 */
        position: relative; /* 相對定位 */
        user-select: none; /* 禁止文本選擇 */
    }

    .cell:hover {
        background-color: #333; /* 滑鼠懸停時的背景色 */
    }

    .cell::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.1); /* 點擊後的淡色遮罩 */
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .cell:active::after {
        opacity: 1; /* 點擊時顯示遮罩 */
    }

    .customContent {
        width: calc(100% - 40px); /* 九宮格內邊距為20px，所以內容寬度應減去兩倍邊距 */
        max-width: 300px; /* 控制最大寬度 */
        height: auto; /* 高度自適應 */
        padding: 15px; /* 調整內邊距 */
        background-color: #f8f3ec; /* 淡色背景 */
        border: 3px solid #000; /* 黑色邊框，與九宮格大小一致 */
        text-align: center; /* 文字居中 */
        display: none; /* 初始隱藏 */
        position: absolute; /* 絕對定位 */
        top: 50%; /* 與父元素垂直居中 */
        left: 50%; /* 與父元素水平居中 */
        transform: translate(-50%, -50%); /* 居中定位 */
        z-index: 1000; /* 提高層級 */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 更自然的陰影效果 */
	font-size: 1.7em; /* 根據需要調整文字大小 */
    }

    .customContent p {
        font-size: 1.1em; /* 略微縮小字體 */
        color: #333; /* 文字顏色 */
        margin: 0; /* 清除段落預設邊距 */
        line-height: 1.5; /* 行高 */
        opacity: 0; /* 初始透明度 */
        transition: opacity 1s ease; /* 過渡效果 */
        text-align: center; /* 文字置中 */
    }

    .visible-cell {
        display: flex !important;
        color: initial !important;
        position: relative; /* 相對定位 */
    }

    .icon {
        font-size: 2em; /* 圖標大小 */
        cursor: pointer; /* 鼠標變成指針 */
    }

    .visible-cell:active .icon {
        opacity: 0; /* 點擊時隱藏圖標 */
    }

    .visible-cell.clicked .icon {
        opacity: 0; /* 顯示卡片後隱藏圖標 */
    }

    .visible-cell.clicked .text-before {
        opacity: 0; /* 顯示卡片後隱藏原始文字 */
    }

    .visible-cell .text-before {
        transition: opacity 0.3s ease; /* 過渡效果 */
        position: relative; /* 相對定位 */
        opacity: 1; /* 初始透明度 */
    }

    .visible-cell.clicked .text-after {
        opacity: 1; /* 顯示卡片後顯示新文字 */
    }

    .visible-cell .text-after {
        transition: opacity 0.3s ease; /* 過渡效果 */
        position: relative; /* 相對定位 */
        opacity: 0; /* 初始透明度 */
    }
</style>
</head>
<body>
    <div id="grid">
        <div class="cell" onclick="showCustomContent(1)">1</div>
        <div class="cell" onclick="showCustomContent(2)">2</div>
        <div class="cell" onclick="showCustomContent(3)">3</div>
        <div class="cell" onclick="showCustomContent(4)">4</div>
        <div class="cell visible-cell" onclick="showCustomContent(5)">
            <span class="text-before">播放</span>
            <span class="icon" onclick="replayContent(event, 5)">&#9658;</span>
        </div>
        <div class="cell" onclick="showCustomContent(6)">6</div>
        <div class="cell" onclick="showCustomContent(7)">7</div>
        <div class="cell" onclick="showCustomContent(8)">8</div>
        <div class="cell" onclick="showCustomContent(9)">9</div>
    </div>
    
    <div id="customContent1" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到一點</p>
        <span class="icon" onclick="replayContent(event, 1)">&#9658;</span>
    </div>
    <div id="customContent2" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到二點</p>
        <span class="icon" onclick="replayContent(event, 2)">&#9658;</span>
    </div>
    <div id="customContent3" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到三點</p>
        <span class="icon" onclick="replayContent(event, 3)">&#9658;</span>
    </div>
    <div id="customContent4" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到四點</p>
        <span class="icon" onclick="replayContent(event, 4)">&#9658;</span>
    </div>
    <div id="customContent5" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到五點</p>
        <span class="icon" onclick="replayContent(event, 5)">&#9658;</span>
    </div>
    <div id="customContent6" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到六點</p>
        <span class="icon" onclick="replayContent(event, 6)">&#9658;</span>
    </div>
    <div id="customContent7" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到七點</p>
        <span class="icon" onclick="replayContent(event, 7)">&#9658;</span>
    </div>
    <div id="customContent8" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到八點</p>
        <span class="icon" onclick="replayContent(event, 8)">&#9658;</span>
    </div>
    <div id="customContent9" class="customContent">
        <p>我有一個預感</p>
        <p>如果讓你骰骰子</p>
        <p>你會骰到九點</p>
        <span class="icon" onclick="replayContent(event, 9)">&#9658;</span>
    </div>

    <script>
        function showCustomContent(number) {
            // 隱藏九宮格
            document.getElementById('grid').style.display = 'none';

            // 顯示特定卡片
            for (let i = 1; i <= 9; i++) {
                document.getElementById('customContent' + i).style.display = 'none';
            }
            const customContent = document.getElementById('customContent' + number);
            customContent.style.display = 'block';

            // 播放文字動畫
            playTextAnimation(customContent);
        }

        function playTextAnimation(customContent) {
            // 選擇所有段落
            const paragraphs = customContent.querySelectorAll('p');

            // 重置段落的透明度
            paragraphs.forEach(p => p.style.opacity = 0);

            // 設置計時器，逐行顯示和隱藏文字
            paragraphs.forEach((p, index) => {
                setTimeout(() => {
                    p.style.opacity = 1;
                    setTimeout(() => {
                        p.style.opacity = 0;
                    }, 2000); // 2秒後隱藏文字
                }, index * 4000); // 每行間隔4秒
            });
        }

        function replayContent(event, number) {
            event.stopPropagation(); // 防止事件冒泡
            const customContent = document.getElementById('customContent' + number);
            playTextAnimation(customContent);
        }
    </script>
</body>
</html>
